#!/usr/bin/env bash
source "$DOTFILES/sources/strict.bash"

parts=()

for arg in "$@"; do
	field="${arg:2}"
	name="${field%%=*}"
	if test "$name" = "$field"; then
		parts+=("$arg")
		continue
	fi

	value="${field#*=}"
	if test "$name" = 'h1'; then
		# add a preceeding newline
		parts+=($'\n')
	fi
	parts+=(
		"--${name}_open"
		"--${name}=${value}"
		"--${name}_close"
	)
done

echo-style "${parts[@]}"
