#!/usr/bin/env bash
source "$DOTFILES/sources/strict.bash"

count_inline='yes'
if test "${1-}" = '--inline'; then
	count_inline='yes'
	shift
elif test "${1-}" = '--no-inline'; then
	count_inline='no'
	shift
fi

i=0
function arg {
	echo-count-lines <<<"$*"
	exit "$?"
}
function line {
	i="$((i + 1))"
}
function inline {
	if test "$count_inline" = 'yes'; then
		i="$((i + 1))"
	fi
}
function finish {
	echo "$i"
}

source "$DOTFILES/sources/stdinargs.bash"
